http://jhnet.co.uk/articles/cpp_magic
